# 生产环境配置文件
# 请将此文件复制为 .env 并修改为实际的安全值
# 注意：所有密码都应该使用强密码生成器生成

# ==================== 数据库配置 ====================
# 使用至少16位的随机密码，包含大小写字母、数字和特殊字符
MYSQL_ROOT_PASSWORD=CHANGE_TO_STRONG_PASSWORD_MIN_16_CHARS
MYSQL_DATABASE=mail_system
MYSQL_USER=mailuser
MYSQL_PASSWORD=CHANGE_TO_DIFFERENT_STRONG_PASSWORD

# ==================== Redis配置 ====================
# Redis密码应该不同于数据库密码
REDIS_PASSWORD=CHANGE_TO_UNIQUE_REDIS_PASSWORD
REDIS_MAX_ACTIVE=20
REDIS_MAX_IDLE=10
REDIS_MIN_IDLE=5

# ==================== JWT配置 ====================
# JWT密钥必须是至少256位的随机字符串
# 可以使用命令生成: openssl rand -base64 64
JWT_SECRET=CHANGE_TO_BASE64_ENCODED_256BIT_RANDOM_STRING
JWT_EXPIRATION=86400000

# ==================== 邮件服务器配置 ====================
MAIL_HOST=smtp.yourdomain.com
MAIL_PORT=587
MAIL_USERNAME=noreply@yourdomain.com
MAIL_PASSWORD=CHANGE_TO_SMTP_PASSWORD
MAIL_SSL_ENABLE=true
MAIL_STARTTLS_ENABLE=true
MAIL_STARTTLS_REQUIRED=true

# ==================== 系统配置 ====================
SERVER_PORT=8080
FRONTEND_PORT=443
TZ=Asia/Shanghai

# ==================== 环境配置 ====================
SPRING_PROFILES_ACTIVE=prod
NODE_ENV=production
LOG_LEVEL=WARN

# ==================== SSL证书路径 ====================
SSL_CERT_PATH=/etc/letsencrypt/live/yourdomain.com/fullchain.pem
SSL_KEY_PATH=/etc/letsencrypt/live/yourdomain.com/privkey.pem
SSL_ENABLE=true

# ==================== 存储配置 ====================
STORAGE_PATH=/var/mail/storage
MAX_ATTACHMENT_SIZE=52428800
STORAGE_QUOTA_PER_USER=5368709120
BACKUP_PATH=/var/backup/mail-system
BACKUP_RETENTION_DAYS=30

# ==================== 安全配置 ====================
# CORS配置 - 指定允许的域名
CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
CORS_ALLOW_CREDENTIALS=true

# Session配置
SESSION_TIMEOUT=3600
SESSION_SECURE_COOKIE=true
SESSION_SAME_SITE=strict

# ==================== 监控配置 ====================
ACTUATOR_ENABLED=true
METRICS_ENABLED=true
ACTUATOR_USERNAME=admin
ACTUATOR_PASSWORD=CHANGE_TO_MONITORING_PASSWORD

# ==================== 速率限制 ====================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_PER_HOUR=1000

# ==================== 数据库连接池 ====================
DB_POOL_SIZE=20
DB_POOL_MIN_IDLE=5
DB_CONNECTION_TIMEOUT=30000

# ==================== 生产环境特定配置 ====================
DEBUG_MODE=false
API_DOCS_ENABLED=false
SWAGGER_ENABLED=false